
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class="container mt-4">
    <h3 class="mb-4">Inventory & Sales Report</h3>

    <!-- Quick Filters -->
    <div class="d-flex flex-wrap gap-2 mb-3">
        <button class="btn btn-outline-secondary btn-sm quickFilter" data-range="today">Today</button>
        <button class="btn btn-outline-secondary btn-sm quickFilter" data-range="week">This Week</button>
        <button class="btn btn-outline-secondary btn-sm quickFilter" data-range="month">This Month</button>
        <button class="btn btn-outline-secondary btn-sm quickFilter" data-range="year">This Year</button>
        <button class="btn btn-outline-success btn-sm" id="exportExcel">Export Excel</button>
        <button class="btn btn-outline-danger btn-sm" id="exportPdf">Export PDF</button>
    </div>

    <!-- Filter Form -->
    <div class="row g-3 mb-3">
        <div class="col-md-3">
            <input type="date" id="fromDate" class="form-control" placeholder="From Date" />
        </div>
        <div class="col-md-3">
            <input type="date" id="toDate" class="form-control" placeholder="To Date" />
        </div>
        <div class="col-md-3">
            <select id="brandFilter" class="form-select">
                <option value="">All Brands</option>
                <!-- Dynamically loaded via JS or Razor -->
            </select>
        </div>
        <div class="col-md-3">
            <select id="categoryFilter" class="form-select">
                <option value="">All Categories</option>
                <!-- Dynamically loaded via JS or Razor -->
            </select>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col-md-3">
            <button class="btn btn-primary w-100" id="filterBtn">Apply Filters</button>
        </div>
    </div>

    <!-- Report Section -->
    <div id="reportSection">
        <h5 class="mb-3">Visual Reports</h5>
        <div class="row mb-4">
            <div class="col-md-6">
                <canvas id="salesTrendChart" height="200"></canvas>
            </div>
            <div class="col-md-6">
                <canvas id="categorySalesChart" height="200"></canvas>
            </div>
        </div>

        <!-- Sales Table -->
        <h5>Sales Report</h5>
        <div class="table-responsive mb-4">
            <table class="table table-bordered table-striped" id="salesTable">
                <thead class="table-dark">
                    <tr>
                        <th>Product</th>
                        <th>Brand</th>
                        <th>Category</th>
                        <th>Quantity</th>
                        <th>Total Sale</th>
                        <th>Profit</th>
                        <th>Sale Date</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Inventory Table -->
        <h5>Inventory Additions</h5>
        <div class="table-responsive mb-4">
            <table class="table table-bordered table-striped" id="inventoryTable">
                <thead class="table-dark">
                    <tr>
                        <th>Product</th>
                        <th>Brand</th>
                        <th>Category</th>
                        <th>Quantity Added</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Best Sellers Table -->
        <h5>Best Selling Products</h5>
        <div class="table-responsive mb-4">
            <table class="table table-bordered table-striped" id="topProductsTable">
                <thead class="table-dark">
                    <tr>
                        <th>Product</th>
                        <th>Brand</th>
                        <th>Category</th>
                        <th>Total Sold</th>
                        <th>Total Sale</th>
                        <th>Profit</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<script src="~/js/report.js"></script>

